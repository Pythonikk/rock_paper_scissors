<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Rock | Paper | Scissors</title>
</head>
<body>
	<script>
		function computerPlay() {
			const choices = ['rock', 'paper', 'scissors'];
			let choice = choices[Math.floor(Math.random() * choices.length)];
			return choice
		}

		function getUserSelection() {
			playerSelection = prompt('Choose wisely... do you want to throw down a rock, paper, or scissors?');
			playerSelection = playerSelection.toLowerCase();
			// Check that input is a valid.
			while (playerSelection !== 'rock' && playerSelection !== 'paper' && playerSelection !== 'scissors') {
				playerSelection = prompt('Invalid selection. Please enter "rock", "paper", or "scissors".');
			}
			return playerSelection
		}

		// officiates a single round of play.
		function playRound(playerSelection, compSelection) {
			if (playerSelection == 'rock' && compSelection == 'scissors' || playerSelection == 'paper' && compSelection == 'rock' || playerSelection == 'scissors' && compSelection == 'paper') {
				alert('You win! ' + playerSelection + ' beats ' + compSelection + '.');
				return 'win'
			} else if (playerSelection == compSelection) {
				alert('It\'s a tie! Throw down again.');
				return 'tie'
			} else {
				alert('You lose. ' + compSelection + ' beats ' + playerSelection + '.');
				return 'loss'
			}
		}

		function game() {
			let roundNumber = 0;
			let outcome;
			let playerScore = 0;
			let compScore = 0;
			while (roundNumber < 5) {
				compSelection = computerPlay();
				playerSelection = getUserSelection();
				// calling playRound() by setting to var 'outcome' to reference later.
				outcome = playRound(playerSelection, compSelection);
				roundNumber += 1;
				if (outcome == 'win') {
					playerScore += 1;
				} else if (outcome == 'loss') {
					compScore += 1;
				}
				console.log('Round ' + roundNumber + '-- ' + 'Player Score: ' + playerScore + ' Computer Score: ' + compScore);
			}
			// Determine the winner and log the results.
			if (playerScore < compScore) {
				console.log('Game Over. You lose. The final score is-- ' + 'Player: ' + playerScore + ' Computer: ' + compScore);

			} else {
				console.log('Game over. You win! The final score is-- ' + 'Player: ' + playerScore + ' Computer: ' + compScore);
			}
		}
	</script>
</body>
</html>